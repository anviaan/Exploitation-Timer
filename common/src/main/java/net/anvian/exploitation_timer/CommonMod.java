package net.anvian.exploitation_timer;

import net.minecraft.ChatFormatting;
import net.minecraft.client.Minecraft;
import net.minecraft.network.chat.Component;

import java.text.DecimalFormat;

public final class CommonMod {
    public static final String MOD_ID = "exploitation_timer";

    public static final DecimalFormat decimalFormat = new DecimalFormat("0.00");

    public static Component getTime(double ticks) {
        ChatFormatting format = ChatFormatting.WHITE;
        var colored = areChatColors();

        double timing = ticks / 20;

        if (!colored) {
            return Component.nullToEmpty(decimalFormat.format(timing)).copy().withStyle(ChatFormatting.WHITE);
        } else {
            if (timing > 7d) {
                format = ChatFormatting.DARK_AQUA;
            } else if (timing > 6d) {
                format = ChatFormatting.AQUA;
            } else if (timing > 4d) {
                format = ChatFormatting.DARK_GREEN;
            } else if (timing > 3d) {
                format = ChatFormatting.GREEN;
            } else if (timing > 2d) {
                format = ChatFormatting.GOLD;
            } else if (timing > 1d) {
                format = ChatFormatting.RED;
            } else if (timing > 0d) {
                format = ChatFormatting.DARK_RED;
            }
            return Component.nullToEmpty(decimalFormat.format(timing)).copy().withStyle(format);
        }
    }

    private static boolean areChatColors() {
        return Minecraft.getInstance().options.chatColors().get();
    }

    public static void init() {

    }
}
